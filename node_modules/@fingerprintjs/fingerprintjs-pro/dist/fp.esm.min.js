/**
 * Fingerprint v3.12.4 - Copyright (c) FingerprintJS, Inc, 2025 (https://fingerprint.com)
 */

function e(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}function t(e,t,n,r){const o=document,i="securitypolicyviolation";let R;const s=t=>{const n=new URL(e,location.href),{blockedURI:r}=t;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(R=t,a())};o.addEventListener(i,s);const a=()=>o.removeEventListener(i,s);return null==r||r.then(a,a),Promise.resolve().then(t).then((e=>(a(),e)),(e=>new Promise((e=>{const t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)})).then((()=>{if(a(),R)return n(R);throw e}))))}function n(e){let t="";for(let n=0;n<e.length;++n)if(n>0){const r=e[n].toLowerCase();r!==e[n]?t+=` ${r}`:t+=e[n]}else t+=e[n].toUpperCase();return t}const r={default:"endpoint"},o={default:"tlsEndpoint"},i="Client timeout",R="Network connection error",s="Network request aborted",a="Response cannot be parsed",c="Blocked by CSP",E="The endpoint parameter is not a valid URL",l="Handle on demand agent data error",u=/*#__PURE__*/n("WrongRegion"),d=/*#__PURE__*/n("SubscriptionNotActive"),_=/*#__PURE__*/n("UnsupportedVersion"),O=/*#__PURE__*/n("InstallationMethodRestricted"),p=/*#__PURE__*/n("HostnameRestricted"),I=/*#__PURE__*/n("IntegrationFailed"),f=/*#__PURE__*/n("NetworkRestricted"),N=/*#__PURE__*/n("InvalidProxyIntegrationSecret"),T=/*#__PURE__*/n("InvalidProxyIntegrationHeaders"),h=/*#__PURE__*/n("ProxyIntegrationSecretEnvironmentMismatch");const v="API key required",m="API key not found",A="API key expired",w="Request cannot be parsed",P="Request failed",D="Request failed to process",S="Too many requests, rate limit exceeded",y="Not available for this origin",g="Not available with restricted header",L=v,C=m,U=A;var b="3.12.4";const M="Failed to load the JS script of the agent",K="9319";function V(e,t){const n=[],[r,o]=function(e){const t=function(e){const t=[...e];return{current:()=>t[0],postpone(){const e=t.shift();void 0!==e&&t.push(e)},exclude(){t.shift()}}}(e),n=function(e,t){let n=0;return()=>Math.random()*Math.min(t,e*Math.pow(2,n++))}(100,3e3),r=new Set;return[t.current(),(e,o)=>{let i;const R=o instanceof Error?o.message:"";if(R===c||R===E)t.exclude(),i=0;else if(R===K)t.exclude();else if(R===M){const n=Date.now()-e.getTime()<50,o=t.current();o&&n&&!r.has(o)&&(r.add(o),i=0),t.postpone()}else t.postpone();const s=t.current();return void 0===s?void 0:[s,null!=i?i:e.getTime()+n()-Date.now()]}]}(e);let i;if(void 0===r)return Promise.reject(new TypeError("The list of script URL patterns is empty"));const R=e=>{const r=new Date,s=t=>n.push({url:e,startedAt:r,finishedAt:new Date,error:t}),a=t(e);return a.then((()=>s()),s),a.catch((e=>{if(null!=i||(i=e),n.length>=5)throw i;const t=o(r,e);if(!t)throw i;const[s,a]=t;return(c=a,new Promise((e=>setTimeout(e,c)))).then((()=>R(s)));var c}))};return R(r).then((e=>[e,n]))}const k="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",G=k;function B(t){var n,r;const{picked:o,rest:i}=function(e,t){const n={},r={};for(const[o,i]of Object.entries(e))t.includes(o)?n[o]=i:r[o]=i;return{picked:n,rest:r}}(t,["scriptUrlPattern","token","apiKey"]),R=o.token,s=null!==(n=o.apiKey)&&void 0!==n?n:R,a=null!==(r=e(t,"scriptUrlPattern"))&&void 0!==r?r:k,[c,E]=function(){const e=[],t=()=>{e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}(document,"visibilitychange",t);return t(),[e,n]}();return Promise.resolve().then((()=>{if(!s||"string"!=typeof s)throw new Error(v);const e=function(e,t){return(Array.isArray(e)?e:[e]).map((e=>function(e,t){const n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(e=>"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n(b):e))}(String(e),t)))}(a,s);return V(e,F)})).catch((e=>{throw E(),function(e){if(e instanceof Error&&e.message===K)return new Error(M);return e}(e)})).then((([e,t])=>(E(),e.load({...i,ldi:{attempts:t,visibilityStates:c}}))))}function F(e){return t(e,(()=>function(e){return new Promise(((t,n)=>{if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(t){if(t instanceof Error&&"TypeError"===t.name)return!0;throw t}}(e))throw new Error(E);const r=document.createElement("script"),o=()=>{var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},i=document.head||document.getElementsByTagName("head")[0];r.onload=()=>{o(),t()},r.onerror=()=>{o(),n(new Error(M))},r.async=!0,r.src=e,i.appendChild(r)}))}(e)),(()=>{throw new Error(c)})).then(x)}function x(){const e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n;const r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(K);return n}var H={load:B,defaultScriptUrlPattern:G,ERROR_SCRIPT_LOAD_FAIL:M,ERROR_API_KEY_EXPIRED:A,ERROR_API_KEY_INVALID:m,ERROR_API_KEY_MISSING:v,ERROR_BAD_REQUEST_FORMAT:w,ERROR_BAD_RESPONSE_FORMAT:a,ERROR_CLIENT_TIMEOUT:i,ERROR_CSP_BLOCK:c,ERROR_FORBIDDEN_ENDPOINT:p,ERROR_FORBIDDEN_HEADER:g,ERROR_FORBIDDEN_ORIGIN:y,ERROR_GENERAL_SERVER_FAILURE:P,ERROR_HANDLE_AGENT_DATA:l,ERROR_INSTALLATION_METHOD_RESTRICTED:O,ERROR_INTEGRATION_FAILURE:I,ERROR_INVALID_ENDPOINT:E,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:T,ERROR_INVALID_PROXY_INTEGRATION_SECRET:N,ERROR_NETWORK_ABORT:s,ERROR_NETWORK_CONNECTION:R,ERROR_NETWORK_RESTRICTED:f,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:h,ERROR_RATE_LIMIT:S,ERROR_SERVER_TIMEOUT:D,ERROR_SUBSCRIPTION_NOT_ACTIVE:d,ERROR_TOKEN_EXPIRED:U,ERROR_TOKEN_INVALID:C,ERROR_TOKEN_MISSING:L,ERROR_UNSUPPORTED_VERSION:_,ERROR_WRONG_REGION:u,defaultEndpoint:r,defaultTlsEndpoint:o};export{A as ERROR_API_KEY_EXPIRED,m as ERROR_API_KEY_INVALID,v as ERROR_API_KEY_MISSING,w as ERROR_BAD_REQUEST_FORMAT,a as ERROR_BAD_RESPONSE_FORMAT,i as ERROR_CLIENT_TIMEOUT,c as ERROR_CSP_BLOCK,p as ERROR_FORBIDDEN_ENDPOINT,g as ERROR_FORBIDDEN_HEADER,y as ERROR_FORBIDDEN_ORIGIN,P as ERROR_GENERAL_SERVER_FAILURE,l as ERROR_HANDLE_AGENT_DATA,O as ERROR_INSTALLATION_METHOD_RESTRICTED,I as ERROR_INTEGRATION_FAILURE,E as ERROR_INVALID_ENDPOINT,T as ERROR_INVALID_PROXY_INTEGRATION_HEADERS,N as ERROR_INVALID_PROXY_INTEGRATION_SECRET,s as ERROR_NETWORK_ABORT,R as ERROR_NETWORK_CONNECTION,f as ERROR_NETWORK_RESTRICTED,h as ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH,S as ERROR_RATE_LIMIT,M as ERROR_SCRIPT_LOAD_FAIL,D as ERROR_SERVER_TIMEOUT,d as ERROR_SUBSCRIPTION_NOT_ACTIVE,U as ERROR_TOKEN_EXPIRED,C as ERROR_TOKEN_INVALID,L as ERROR_TOKEN_MISSING,_ as ERROR_UNSUPPORTED_VERSION,u as ERROR_WRONG_REGION,H as default,r as defaultEndpoint,G as defaultScriptUrlPattern,o as defaultTlsEndpoint,B as load};
