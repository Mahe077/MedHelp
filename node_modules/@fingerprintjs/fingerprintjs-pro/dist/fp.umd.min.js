/**
 * Fingerprint v3.12.4 - Copyright (c) FingerprintJS, Inc, 2025 (https://fingerprint.com)
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FingerprintJS={})}(this,(function(e){"use strict";function t(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}function R(e,t,R,n){const r=document,o="securitypolicyviolation";let E;const i=t=>{const R=new URL(e,location.href),{blockedURI:n}=t;n!==R.href&&n!==R.protocol.slice(0,-1)&&n!==R.origin||(E=t,_())};r.addEventListener(o,i);const _=()=>r.removeEventListener(o,i);return null==n||n.then(_,_),Promise.resolve().then(t).then((e=>(_(),e)),(e=>new Promise((e=>{const t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)})).then((()=>{if(_(),E)return R(E);throw e}))))}function n(e){let t="";for(let R=0;R<e.length;++R)if(R>0){const n=e[R].toLowerCase();n!==e[R]?t+=` ${n}`:t+=e[R]}else t+=e[R].toUpperCase();return t}const r={default:"endpoint"},o={default:"tlsEndpoint"},E="Client timeout",i="Network connection error",_="Network request aborted",s="Response cannot be parsed",O="Blocked by CSP",a="The endpoint parameter is not a valid URL",c="Handle on demand agent data error",I=n("WrongRegion"),l=n("SubscriptionNotActive"),d=n("UnsupportedVersion"),u=n("InstallationMethodRestricted"),T=n("HostnameRestricted"),N=n("IntegrationFailed"),f=n("NetworkRestricted"),p=n("InvalidProxyIntegrationSecret"),A=n("InvalidProxyIntegrationHeaders"),D=n("ProxyIntegrationSecretEnvironmentMismatch");const h="API key required",S="API key not found",P="API key expired",v="Request cannot be parsed",m="Request failed",L="Request failed to process",w="Too many requests, rate limit exceeded",y="Not available for this origin",C="Not available with restricted header",g=h,M=S,U=P;var K="3.12.4";const V="Failed to load the JS script of the agent",b="9319";function G(e,t){const R=[],[n,r]=function(e){const t=function(e){const t=[...e];return{current:()=>t[0],postpone(){const e=t.shift();void 0!==e&&t.push(e)},exclude(){t.shift()}}}(e),R=function(e,t){let R=0;return()=>Math.random()*Math.min(t,e*Math.pow(2,R++))}(100,3e3),n=new Set;return[t.current(),(e,r)=>{let o;const E=r instanceof Error?r.message:"";if(E===O||E===a)t.exclude(),o=0;else if(E===b)t.exclude();else if(E===V){const R=Date.now()-e.getTime()<50,r=t.current();r&&R&&!n.has(r)&&(n.add(r),o=0),t.postpone()}else t.postpone();const i=t.current();return void 0===i?void 0:[i,null!=o?o:e.getTime()+R()-Date.now()]}]}(e);let o;if(void 0===n)return Promise.reject(new TypeError("The list of script URL patterns is empty"));const E=e=>{const n=new Date,i=t=>R.push({url:e,startedAt:n,finishedAt:new Date,error:t}),_=t(e);return _.then((()=>i()),i),_.catch((e=>{if(null!=o||(o=e),R.length>=5)throw o;const t=r(n,e);if(!t)throw o;const[i,_]=t;return(s=_,new Promise((e=>setTimeout(e,s)))).then((()=>E(i)));var s}))};return E(n).then((e=>[e,R]))}const F="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",B=F;function H(e){var R,n;const{picked:r,rest:o}=function(e,t){const R={},n={};for(const[r,o]of Object.entries(e))t.includes(r)?R[r]=o:n[r]=o;return{picked:R,rest:n}}(e,["scriptUrlPattern","token","apiKey"]),E=r.token,i=null!==(R=r.apiKey)&&void 0!==R?R:E,_=null!==(n=t(e,"scriptUrlPattern"))&&void 0!==n?n:F,[s,O]=function(){const e=[],t=()=>{e.push({time:new Date,state:document.visibilityState})},R=function(e,t,R,n){return e.addEventListener(t,R,n),()=>e.removeEventListener(t,R,n)}(document,"visibilitychange",t);return t(),[e,R]}();return Promise.resolve().then((()=>{if(!i||"string"!=typeof i)throw new Error(h);const e=function(e,t){return(Array.isArray(e)?e:[e]).map((e=>function(e,t){const R=encodeURIComponent;return e.replace(/<[^<>]+>/g,(e=>"<version>"===e?"3":"<apiKey>"===e?R(t):"<loaderVersion>"===e?R(K):e))}(String(e),t)))}(_,i);return G(e,k)})).catch((e=>{throw O(),function(e){if(e instanceof Error&&e.message===b)return new Error(V);return e}(e)})).then((([e,t])=>(O(),e.load({...o,ldi:{attempts:t,visibilityStates:s}}))))}function k(e){return R(e,(()=>function(e){return new Promise(((t,R)=>{if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(t){if(t instanceof Error&&"TypeError"===t.name)return!0;throw t}}(e))throw new Error(a);const n=document.createElement("script"),r=()=>{var e;return null===(e=n.parentNode)||void 0===e?void 0:e.removeChild(n)},o=document.head||document.getElementsByTagName("head")[0];n.onload=()=>{r(),t()},n.onerror=()=>{r(),R(new Error(V))},n.async=!0,n.src=e,o.appendChild(n)}))}(e)),(()=>{throw new Error(O)})).then(Y)}function Y(){const e=window,t="__fpjs_p_l_b",R=e[t];if(function(e,t){var R;const n=null===(R=Object.getOwnPropertyDescriptor)||void 0===R?void 0:R.call(Object,e,t);(null==n?void 0:n.configurable)?delete e[t]:n&&!n.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==R?void 0:R.load))throw new Error(b);return R}var x={load:H,defaultScriptUrlPattern:B,ERROR_SCRIPT_LOAD_FAIL:V,ERROR_API_KEY_EXPIRED:P,ERROR_API_KEY_INVALID:S,ERROR_API_KEY_MISSING:h,ERROR_BAD_REQUEST_FORMAT:v,ERROR_BAD_RESPONSE_FORMAT:s,ERROR_CLIENT_TIMEOUT:E,ERROR_CSP_BLOCK:O,ERROR_FORBIDDEN_ENDPOINT:T,ERROR_FORBIDDEN_HEADER:C,ERROR_FORBIDDEN_ORIGIN:y,ERROR_GENERAL_SERVER_FAILURE:m,ERROR_HANDLE_AGENT_DATA:c,ERROR_INSTALLATION_METHOD_RESTRICTED:u,ERROR_INTEGRATION_FAILURE:N,ERROR_INVALID_ENDPOINT:a,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:A,ERROR_INVALID_PROXY_INTEGRATION_SECRET:p,ERROR_NETWORK_ABORT:_,ERROR_NETWORK_CONNECTION:i,ERROR_NETWORK_RESTRICTED:f,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:D,ERROR_RATE_LIMIT:w,ERROR_SERVER_TIMEOUT:L,ERROR_SUBSCRIPTION_NOT_ACTIVE:l,ERROR_TOKEN_EXPIRED:U,ERROR_TOKEN_INVALID:M,ERROR_TOKEN_MISSING:g,ERROR_UNSUPPORTED_VERSION:d,ERROR_WRONG_REGION:I,defaultEndpoint:r,defaultTlsEndpoint:o};e.ERROR_API_KEY_EXPIRED=P,e.ERROR_API_KEY_INVALID=S,e.ERROR_API_KEY_MISSING=h,e.ERROR_BAD_REQUEST_FORMAT=v,e.ERROR_BAD_RESPONSE_FORMAT=s,e.ERROR_CLIENT_TIMEOUT=E,e.ERROR_CSP_BLOCK=O,e.ERROR_FORBIDDEN_ENDPOINT=T,e.ERROR_FORBIDDEN_HEADER=C,e.ERROR_FORBIDDEN_ORIGIN=y,e.ERROR_GENERAL_SERVER_FAILURE=m,e.ERROR_HANDLE_AGENT_DATA=c,e.ERROR_INSTALLATION_METHOD_RESTRICTED=u,e.ERROR_INTEGRATION_FAILURE=N,e.ERROR_INVALID_ENDPOINT=a,e.ERROR_INVALID_PROXY_INTEGRATION_HEADERS=A,e.ERROR_INVALID_PROXY_INTEGRATION_SECRET=p,e.ERROR_NETWORK_ABORT=_,e.ERROR_NETWORK_CONNECTION=i,e.ERROR_NETWORK_RESTRICTED=f,e.ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH=D,e.ERROR_RATE_LIMIT=w,e.ERROR_SCRIPT_LOAD_FAIL=V,e.ERROR_SERVER_TIMEOUT=L,e.ERROR_SUBSCRIPTION_NOT_ACTIVE=l,e.ERROR_TOKEN_EXPIRED=U,e.ERROR_TOKEN_INVALID=M,e.ERROR_TOKEN_MISSING=g,e.ERROR_UNSUPPORTED_VERSION=d,e.ERROR_WRONG_REGION=I,e.default=x,e.defaultEndpoint=r,e.defaultScriptUrlPattern=B,e.defaultTlsEndpoint=o,e.load=H,Object.defineProperty(e,"__esModule",{value:!0})}));
